<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="./assets/styles/styleProjects.css" />
    <title>Guilherme Portella Projects</title>
</head>

<body>
    <div class="container">
        <h1>Hi, These are my projects</h1>
        <img class="imgCod" src="./assets/images/projects.png">
    </div>

    <div class="contatos">
        <button class="menu-toggle" aria-label="Abrir menu">&#9776;</button>
        <ul class="contact-list">
            <li><a href="index.html"><i class="buton"></i> Home</a></li>
        </ul>
    </div>

    <div class="conteudoPrincipal">
        <h2 class="tituloConteudo">Projetos no GitHub</h2>
        <div id="github-projects">
            <p>Carregando projetos...</p>
        </div>
    </div>
    <script src="assets/scripts/scripts.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const container = document.getElementById('github-projects');
            fetch('https://api.github.com/users/guilhermeportella/repos')
                .then(response => response.json())
                .then(repos => {
                    if (!Array.isArray(repos) || repos.length === 0) {
                        container.innerHTML = '<p>Nenhum projeto encontrado.</p>';
                        return;
                    }
                    const grid = document.createElement('div');
                    grid.className = 'projects-grid';
                    repos.forEach(repo => {
                        const card = document.createElement('div');
                        card.className = 'project-card';
                        card.innerHTML = `
                            <h3>${repo.name}</h3>
                            <p>${repo.description ? repo.description : 'Sem descrição.'}</p>
                            <a href="${repo.html_url}" target="_blank">Ver no GitHub</a>
                        `;
                        grid.appendChild(card);
                    });
                    container.innerHTML = '';
                    container.appendChild(grid);
                })
                .catch(() => {
                    container.innerHTML = '<p>Erro ao carregar projetos do GitHub.</p>';
                });
        });
    </script>

    <footer>
        <p>&copy; Guilherme Portella</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const toggle = document.querySelector('.menu-toggle');
            const menu = document.querySelector('.contact-list');
            function checkMenu() {
                if (window.innerWidth <= 700) {
                    toggle.style.display = 'block';
                    menu.classList.remove('show');
                } else {
                    toggle.style.display = 'none';
                    menu.style.display = '';
                }
            }
            toggle.addEventListener('click', function () {
                menu.classList.toggle('show');
            });
            window.addEventListener('resize', checkMenu);
            checkMenu();
        });
    </script>
</body>

</html>